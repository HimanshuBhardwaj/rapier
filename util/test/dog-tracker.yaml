title: DogTrackerAPI
version: "0.1"
conventions:
  multi_valued_relationships:
    entities: '#/entities/Collection'
entities:
  Resource:
    abstract: true
    type: object
    properties:
      self:
        type: string
        readOnly: true
      kind:
        type: string
  PersistentResource:
    allOf:
    - $ref: '#/entities/Resource'
    abstract: true
    properties:
      created:
        type: string
        format: date-time
        readOnly: true
      creator:
        type: string
        format: URL
        readOnly: true
      modified:
        type: string
        format: date-time
        readOnly: true
      modifier:
        type: string
        format: date-time
        readOnly: true
    abstract: true
  Collection:
    allOf:
    - $ref: '#/entities/Resource'
    properties:
      kind:
        type: string
        enum: [Collection]
      items:
        type: array
        items: 
          type: object
    readOnly: true
  DogTracker:
    allOf:
    - $ref: '#/entities/PersistentResource'
    well_known_URLs: /
    query_paths: [dogs, "dogs;{name}", people, "people;{name}", "dogs;{name}/owner", "people;{name}/dogs"]
    readOnly: true
  Dog:
    allOf:
    - $ref: '#/entities/PersistentResource'
    properties:
      name:
        type: string
      birth_date:
        type: string
      fur_color:
        type: string
  Person:
    allOf:
    - $ref: '#/entities/PersistentResource'
    properties:
      name:
        type: string
      birth-date:
        type: string
relationships:
  tracker-to-dogs:
    one_end:
      entity: DogTracker
      property: dogs
      multiplicity: 0:n
    other_end:
      entity: Dog
  tracker-to-people:
    one_end:
      entity: DogTracker
      property: people
      multiplicity: 0:n
    other_end:
      entity: Person
  dogs-to-people:
    one_end:
      entity: Person
      property: dogs
      multiplicity: 0:n
    other_end:
      entity: Dog
      property: owner
      multiplicity: 0:1