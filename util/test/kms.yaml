title: KMS APIs
conventions:
  selector_location: path-segment
entities:
  Attribute:
    description: A key value properties
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "Attribute"
        type: string
        enum: [Attribute]
      name:
        description: name of a property
        type: string
      value:
        description: value of a property
        type: string
  CredentialMethod:
    description: organization's CredentialMethod
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "CredentialMethod"
        type: string
        enum: [CredentialMethod]
      id:
        type: number
      name:
        type: string
      apiProducts:
        type: array
        items:
          type: object
          relationship: "#ApiProduct"
      attributes:
        type: array
        items:
          type: object
          relationship: "#Attribute"
      scopes:
        type: array
        items:
          type: string
  AppCredentialsRequest:
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "AppCredentialsRequest"
        type: string
        enum: [AppCredentialsRequest]
      app:
        type: string
      consumerKey:
        type: string
      consumerSecret:
        type: string
      credentialMethod:
        type: object
        relationship: "#CredentialMethod"
  AppCredentialsResponse:
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "AppCredentialsResponse"
        type: string
        enum: [AppCredentialsResponse]
      consumerKey:
        type: string
      consumerSecret:
        type: string
      status:
        type: string
      app:
        type: object
        relationship: "#App"
      scopes:
        type: array
        items:
          type: string
  Apigee:
    well_known_URLs: /
    query_paths: organizations organizations;{name} organizations;{name}/environments
    properties:
      organizations:
        type: string
        format: uri
        relationship:
          multiplicity: 0:n
          entities: '#Organization'
          collection_resource: './common.yaml#MultiValuedRelationship'
  Organization:
    description: >
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "Organization"
        type: string
        enum: [Organization]
      name:
        description: >
          The name of the Organization. Must be unique
        type: string
      description:
        description: >
          A textual description of the Organization
        type: string
      displayName:
        description: >
          The name to be used to display to humans for this Organization. Used in the UI.
        type: string
      flavour:
        description: >
          (Note: "type" is the key word) Type of the Organization which describe whether it's a trail or revenue Organization
        type: string
        enum: [trail, revenue]
      properties:
        type: array
        items:
          type: string
      environments:
        relationship:
          multiplicity: 0:n
          entities: '#Environment'
          collection_resource: './common.yaml#MultiValuedRelationship'
  Environment:
    well_known_URLs: /organizaions/{org}/envs
    description: >
      An environment represents a set of running components accessible at a single namespace
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "ENVIRONMENT"
        type: string
        enum: [Environment]
      name:
        description: >
          The name of the Environment. Must be unique within the pertaining Organization
        type: string
      description:
        description: >
          A textual description of the Environment
        type: string
      displayName:
        description: >
          The name to be used to display to humans for this Environment. Used in the UI.
        type: string
      properties:
        type: array
        items:
          type: string
  ApiProduct:
    well_known_URLs: /organizaions/{org}/api-product
    description: >
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "APIPRODUCT"
        type: string
        enum: [ApiProduct]
      name:
        description: >
          The name of the API product. Must be unique within the pertaining Organization
        type: string
      description:
        description: >
          A textual description of the API Product
        type: string
      displayName:
        description: >
          The name to be used to display to humans for this API Product. Used in the UI.
        type: string
      organizaion:
        description: >
          The APIProduct within this Organization
        type: object
        relationship: "#Organization"
      attributes:
        type: array
        items:
          type: object
          relationship: "#Attribute"
      apiResources:
        type: array
        items:
          type: string
      environments:
        description: Environments where this API is available. Defines the domain names where the paths of the API will be available
        type: array
        items:
          type: string
      scopes:
        description: > 
          Defines the OAUTH scopes to which this APIProduct gives access
        type: array
        items:
          type: string
      proxies:
        type: array
        items:
          type: string
      quota:
        description: > 
          Defines the quota of requests allowed by this APIProduct.
        type: string
      quotaInterval:
        type: integer
      quotaTimeUnit:
        type: string
        enum: [second, minute, hour, day, month]
      approvalType:
        type: string
        enum: [manual, auto]
  App:
    well_known_URLs: /organizaions/{org}/apps
    description: >
      
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "APP"
        type: string
        enum: [App]
      appId:
        description: uniquely generated ID
        type: string
      name:
        description: >
          The name of the App. Must be unique within the pertaining Organization
        type: string
      organizaion:
        description: >
          The APIProduct within this Organization
        type: object
        relationship: "#Organization"
      accessType:
        type: string
      callbackUrl:
        type: string
        format: url
      appStatus:
        type: string
        enum: [approved, revoked, pending]
      status:
        type: string
      appFamily:
        type: string
      appParentStatus:
        type: string
        enum: [approved, revoked, pending]
      appType:
        type: string
      keyExpiresIn:
        type: number
      appParent:
        type: object
        properties:
          uniqueId:
            type: string
          organizaion:
            type: object
            relationship: "#Organization"
      attributes:
        type: array
        items:
          type: object
          relationship: "#Attribute"
      appCredentialsRequest:
        type: array
        items:
          type: object
          relationship: "#AppCredentialsRequest"
      appCredentialsResponse:
        type: array
        items:
          type: object
          relationship: "#AppCredentialsResponse"
      scopes:
        description: > 
          Defines the OAUTH scopes to which this APIProduct gives access
        type: array
        items:
          type: string
  AppCredential:
    well_known_URLs: /organizaions/{org}/apps/{app}/keys
    description: >
      Token key for an app
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "APPCRENDENTIAL"
        type: string
        enum: [AppCredential]
      id:
        type: number
      app:
        type: object
        relationship: "#App"
      consumerKey:
        type: string
      consumerSecret:
        type: string
      apiProduct:
        type: object
        relationship: "#ApiProduct"
  Company:
    well_known_URLs: /organizaions/{org}/companies
    description: >
      
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "COMPANY"
        type: string
        enum: [Company]
      organization:
        type: object
        relationship: "#Organization"
      name:
        type: string
      displayName:
        description: >
          The name to be used to display to humans for this API Product. Used in the UI.
        type: string
      status:
        type: string
        enum: [active, inactive, login_lock]
      apps:
        type: array
        items:
          type: object
          relationship: "#App"
      attributes:
        type: array
        items:
          type: object
          relationship: "#Attribute"
  Developer:
    well_known_URLs: /organizaions/{org}/companies/{company}/developers 
    description: >
      
    properties:
      kind:
        description: The value of this property indicates the 'kind' or 'type' of the object. Its value must be the string "DEVELOPER"
        type: string
        enum: [Developer]
      userId:
        type: string
      organization:
        type: object
        relationship: "#Organization"
      userName:
        type: string
      firstName:
        type: string
      lastName:
        type: string
      email:
        type: string
      encryptedPassword:
        type: string
      status:
        type: string
        enum: [active, inactive, login_lock]
      apps:
        type: array
        items:
          type: object
          relationship: "#App"
      companies:
        type: array
        items:
          type: object
          relationship: "#Company"
      salt:
        type: string
      attributes:
        type: array
        items:
          type: object
          relationship: "#Attribute"
